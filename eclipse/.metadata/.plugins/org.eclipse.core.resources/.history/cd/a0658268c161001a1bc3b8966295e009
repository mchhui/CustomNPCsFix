package mchhui.customnpcsfix.util;

import com.google.gson.GsonBuilder;
import com.google.gson.JsonParser;
import com.google.gson.internal.LinkedTreeMap;

import dk.mrspring.nbtjson.NBTJsonCompile;
import dk.mrspring.nbtjson.NBTJsonDecompile;
import net.minecraft.nbt.NBTTagCompound;

public class NBTJsonHelper {
    public static String compile(NBTTagCompound nbt) {
        return "gson"+new GsonBuilder().setPrettyPrinting().create()
                .toJson(new JsonParser().parse(NBTJsonCompile.createJsonStringFromCompound(nbt)));
    }

    public static NBTTagCompound decompile(String json) {
        json=json.replace("gson", "");
        System.out.println( NBTJsonDecompile.createFromJsonObject(new GsonBuilder().setPrettyPrinting().create().fromJson(json, LinkedTreeMap.class)));
        return NBTJsonDecompile.createFromJsonObject(new GsonBuilder().setPrettyPrinting().create().fromJson(json, LinkedTreeMap.class));
    }
}
